{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "CloudFormationManagement",
      "Effect": "Allow",
      "Action": [
        "cloudformation:CreateStack",
        "cloudformation:UpdateStack",
        "cloudformation:DeleteStack",
        "cloudformation:DescribeStacks",
        "cloudformation:DescribeStackEvents",
        "cloudformation:DescribeStackResources",
        "cloudformation:GetTemplate",
        "cloudformation:ValidateTemplate",
        "cloudformation:ListStackResources"
      ],
      "Resource": [
        "arn:aws:cloudformation:ap-southeast-2:*:stack/puzzle-book-*/*",
        "arn:aws:cloudformation:us-east-1:*:stack/puzzle-book-*/*"
      ]
    },
    {
      "Sid": "TemplateBucketAccess",
      "Effect": "Allow",
      "Action": [
        "s3:GetObject",
        "s3:PutObject",
        "s3:DeleteObject",
        "s3:ListBucket"
      ],
      "Resource": [
        "arn:aws:s3:::rocket-lander-deploy-templates",
        "arn:aws:s3:::rocket-lander-deploy-templates/*"
      ]
    },
    {
      "Sid": "PassCfnRole",
      "Effect": "Allow",
      "Action": "iam:PassRole",
      "Resource": "arn:aws:iam::*:role/rocket-lander-cfn-role"
    },
    {
      "Sid": "GetCfnRole",
      "Effect": "Allow",
      "Action": [
        "iam:GetRole",
        "iam:GetUser"
      ],
      "Resource": [
        "arn:aws:iam::*:role/rocket-lander-cfn-role",
        "arn:aws:iam::*:user/puzzle-book-deploy"
      ]
    },
    {
      "Sid": "STSAssumeRole",
      "Effect": "Allow",
      "Action": "sts:AssumeRole",
      "Resource": "arn:aws:iam::*:role/puzzle-book-*-seed-role-*"
    },
    {
      "Sid": "STSGetCallerIdentity",
      "Effect": "Allow",
      "Action": "sts:GetCallerIdentity",
      "Resource": "*"
    },
    {
      "Sid": "S3GetBucketLocation",
      "Effect": "Allow",
      "Action": "s3:GetBucketLocation",
      "Resource": "arn:aws:s3:::rocket-lander-deploy-templates"
    }
  ]
}
